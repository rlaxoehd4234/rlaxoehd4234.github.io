---
title: "DB ìµœì í™”ë€?"
date: "2025-09-02"
author: "ê¹€íƒœë™"
image: "https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FrNWmL%2FbtsLe0IeyiZ%2FAAAAAAAAAAAAAAAAAAAAAPOiFrr9O0wbqT9L26JXtTvucbF-hbq5kXvqGDWd6S0N%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1759244399%26allow_ip%3D%26allow_referer%3D%26signature%3DaivzLwDxVc0m6MVZNgIACSCVtoU%253D"
description: "DB ìµœì í™” With MySQL"
---



# SQL ìµœì í™” (ì‹¤í–‰ ê³„íšìœ¼ë¡œ ì°¾ì•„ë³´ê¸°) - MySQL  
ì¤‘ë³µì²´í¬

---

## ëª©ì°¨
1. DB ì„±ëŠ¥ ê°œì„ ì˜ ë°©ë²•
2. MySQL ì˜ ì•„í‚¤í…ì²˜
3. INDEX ë€?
4. ë²„ì „ ë° íˆ´
5. INDEX ì˜ ì¢…ë¥˜
6. ì‹¤í–‰ ê³„íš(EXPLAIN)ì„ í†µí•´ ì„±ëŠ¥ ì €í•˜ ìš”ì¸ ì°¾ê¸°
7. ì‹¤í–‰ê³„íšì˜ index scan íƒ€ì…
8. ì¿¼ë¦¬ ìµœì í™”!
9. WHERE ì´ ì‚¬ìš©ëœ ì¿¼ë¦¬
10. ì¸ë±ìŠ¤ë¥¼ ì¸ì‹í•˜ì§€ ì•ŠëŠ” ê²½ìš°
11. ORDER BY ì´ ì‚¬ìš©ëœ ì¿¼ë¦¬
12. ìš”ì•½

---

## DB ì„±ëŠ¥ ê°œì„ ì˜ ë°©ë²•
- SQL íŠœë‹  
- ìºì‹± ì„œë²„ í™œìš©  
- ë ˆí”Œë¦¬ì¼€ì´ì…˜ (Master/Slave)  
- ìƒ¤ë”©  
- ìŠ¤ì¼€ì¼ ì—…  

SQL íŠœë‹ì€ **ì‹œìŠ¤í…œ ë³€ê²½ ë° ë¹„ìš© ì¶”ê°€ ì—†ì´ ì„±ëŠ¥ì„ ê°œì„ **í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤.  

---

## MySQL ì˜ ì•„í‚¤í…ì²˜
1. í´ë¼ì´ì–¸íŠ¸ê°€ DB ë¡œ ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.  
2. ì˜µí‹°ë§ˆì´ì €ê°€ SQL ì„ ë¶„ì„í•˜ê³  íš¨ìœ¨ì ì¸ ê³„íšì„ ì„¸ì›Œ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.  
3. ì—”ì§„ì—ì„œ ì •ë ¬, í•„í„°ë§ í›„ ê²°ê³¼ë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì‘ë‹µí•©ë‹ˆë‹¤.  

âš ï¸ ì„±ëŠ¥ ì €í•˜ëŠ” ì£¼ë¡œ ì˜µí‹°ë§ˆì´ì € ë‹¨ê³„ì—ì„œ ë°œìƒí•©ë‹ˆë‹¤.  

---

## INDEX ë€?
ì¸ë±ìŠ¤ë€ **ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì˜ ê²€ìƒ‰ ì„±ëŠ¥ì„ ë†’ì´ëŠ” ìë£Œêµ¬ì¡°**ì…ë‹ˆë‹¤.  
íŠ¹ì • ì»¬ëŸ¼ì„ ê¸°ì¤€ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì •ë ¬í•´ ë‘ê³  ë¹ ë¥´ê²Œ ì¡°íšŒí•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.  

ì˜ˆì‹œ:

```sql
SELECT * FROM users WHERE age = 23;
CREATE INDEX idx_age ON users(age);
-- 198ms -> 150ms ë¡œ ì„±ëŠ¥ ê°œì„ 
ë²„ì „ ë° íˆ´
MySQL 8.x.x

TOOL : DataGrip

INDEX ì˜ ì¢…ë¥˜
í´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤

ê³ ìœ  ì¸ë±ìŠ¤

ë©€í‹° ì»¬ëŸ¼ ì¸ë±ìŠ¤

ì»¤ë²„ë§ ì¸ë±ìŠ¤

í´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤
ì›ë³¸ ë°ì´í„° ìì²´ê°€ ì •ë ¬ë¨

PK(Primary Key)ì— ìë™ ì ìš©

ê³ ìœ  ì¸ë±ìŠ¤
UNIQUE ì†ì„±ì„ ê°€ì§€ëŠ” ì»¬ëŸ¼ì—ì„œ ìƒì„±

sql
ì½”ë“œ ë³µì‚¬
CREATE TABLE test_table(
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) UNIQUE
);
ë©€í‹° ì»¬ëŸ¼ ì¸ë±ìŠ¤
ì—¬ëŸ¬ ê°œì˜ ì»¬ëŸ¼ì„ ë¬¶ì–´ ì„¤ì •í•˜ëŠ” ì¸ë±ìŠ¤

sql
ì½”ë“œ ë³µì‚¬
CREATE INDEX idx_ë¶€ì„œ_ì´ë¦„ ON users (ë¶€ì„œ, ì´ë¦„);
ì£¼ì˜: ì†Œë¶„ë¥˜ â†’ ëŒ€ë¶„ë¥˜ ìˆœì„œë¡œ ì„¤ì •í•´ì•¼ íš¨ìœ¨ì 

ì»¤ë²„ë§ ì¸ë±ìŠ¤
ì¡°íšŒì— í•„ìš”í•œ ëª¨ë“  ì»¬ëŸ¼ì´ ì¸ë±ìŠ¤ì— í¬í•¨ëœ ê²½ìš°
ğŸ‘‰ ë””ìŠ¤í¬ I/O ê°ì†Œ ê°€ëŠ¥

ì‹¤í–‰ ê³„íš (EXPLAIN)
sql
ì½”ë“œ ë³µì‚¬
EXPLAIN SELECT * FROM users;
id : ì‹¤í–‰ ìˆœì„œ

type : index scan íƒ€ì…

possible key : ì‚¬ìš© ê°€ëŠ¥í•œ í‚¤ ë¦¬ìŠ¤íŠ¸

key : ì‹¤ì œ ì‚¬ìš© í‚¤

rows : ì ‘ê·¼í•œ í–‰ì˜ ìˆ˜

sql
ì½”ë“œ ë³µì‚¬
EXPLAIN ANALYZE SELECT * FROM users;
Table scan ì—¬ë¶€ í™•ì¸

rows: ì ‘ê·¼í•œ ë°ì´í„° í–‰ ìˆ˜

actual time: ì²˜ë¦¬ ì†Œìš” ì‹œê°„

ì‹¤í–‰ê³„íšì˜ index scan íƒ€ì…
ALL: í’€ í…Œì´ë¸” ìŠ¤ìº” (ë¹„íš¨ìœ¨ì )

INDEX: í’€ ì¸ë±ìŠ¤ ìŠ¤ìº”

CONST: ë‹¨ì¼ ë°ì´í„° ì¡°íšŒ (ë§¤ìš° íš¨ìœ¨ì )

RANGE: ë²”ìœ„ ì¡°íšŒ (IN, LIKE, BETWEEN)

REF: ë¹„ê³ ìœ  ì¸ë±ìŠ¤ ì¡°íšŒ

ì¿¼ë¦¬ ìµœì í™” ì˜ˆì‹œ
WHERE ì ˆ ìµœì í™”
sql
ì½”ë“œ ë³µì‚¬
SELECT * FROM users
WHERE created_at >= DATE_SUB(NOW(), INTERVAL 3 DAY);

CREATE INDEX idx_created_at ON users (created_at);
-- 557ms â†’ 146ms
ì—¬ëŸ¬ ì¡°ê±´
sql
ì½”ë“œ ë³µì‚¬
SELECT * FROM users
WHERE department = 'Sales'
  AND created_at >= DATE_SUB(NOW(), INTERVAL 3 DAY);

CREATE INDEX idx_create_at_department ON users (department, created_at);
-- 590ms â†’ 143ms
ğŸ‘‰ ë©€í‹° ì»¬ëŸ¼ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•˜ë©´ row ì ‘ê·¼ ìˆ˜ë¥¼ ê·¹ì ìœ¼ë¡œ ì¤„ì¼ ìˆ˜ ìˆìŒ

ì¸ë±ìŠ¤ë¥¼ ì¸ì‹í•˜ì§€ ì•ŠëŠ” ê²½ìš°
ë„“ì€ ë²”ìœ„ ê²€ìƒ‰

ì¸ë±ìŠ¤ ì»¬ëŸ¼ì„ ê°€ê³µí•˜ëŠ” ê²½ìš°

sql
ì½”ë“œ ë³µì‚¬
EXPLAIN SELECT * FROM users
WHERE salary * 2 < 1000
ORDER BY salary;
-- ì¸ë±ìŠ¤ ë¬´íš¨í™” â†’ í’€ í…Œì´ë¸” ìŠ¤ìº”
ORDER BY ìµœì í™”
sql
ì½”ë“œ ë³µì‚¬
EXPLAIN ANALYZE SELECT * FROM users
ORDER BY salary LIMIT 100;

CREATE INDEX idx_salary ON users(salary);
-- 340ms â†’ 60ms
ì •ë ¬ ì‹œì—ë„ ì¸ë±ìŠ¤ë¥¼ ì ê·¹ í™œìš© ê°€ëŠ¥

WHERE vs ORDER BY ì¸ë±ìŠ¤
WHERE ì ˆì— ì¸ë±ìŠ¤ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì´ ë” íš¨ìœ¨ì ì„

HAVING ì ˆ ìµœì í™”
sql
ì½”ë“œ ë³µì‚¬
-- ë¹„íš¨ìœ¨ì 
SELECT age, MAX(salary) FROM users
GROUP BY age
HAVING age >= 20 AND age < 30;

-- íš¨ìœ¨ì 
SELECT age, MAX(salary) FROM users
WHERE age >= 20 AND age < 30
GROUP BY age;
HAVING ë³´ë‹¤ëŠ” WHEREì—ì„œ ë¨¼ì € í•„í„°ë§í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ

ìš”ì•½
ì„±ëŠ¥ ì €í•˜ëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ë°ì´í„°ë¥¼ ì°¾ëŠ” ê³¼ì •ì—ì„œ ë°œìƒ

ì¸ë±ìŠ¤ëŠ” ê²€ìƒ‰ ì„±ëŠ¥ ê°œì„ ì— í•µì‹¬

EXPLAINìœ¼ë¡œ ì‹¤í–‰ ê³„íšì„ ë¶„ì„í•˜ê³  íŠœë‹ ê°€ëŠ¥

í…Œì´ë¸” ìŠ¤ìº” ë°©ì‹: ALL, INDEX, RANGE, REF, CONST

LIMIT, WHERE ì¡°ê±´ ìµœì í™”ë¡œ row ì ‘ê·¼ ìµœì†Œí™”

ì¸ë±ìŠ¤ë¥¼ í™œìš©í•œ ORDER BY, WHERE ì ˆ ìµœì í™” í•„ìš”

HAVING ë³´ë‹¤ëŠ” WHEREë¥¼ ì§€í–¥