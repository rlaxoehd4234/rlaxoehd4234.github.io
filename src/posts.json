[
  {
    "slug": "20250903",
    "title": "ìš´ì˜ì²´ì œì™€ DB ì„¸ì…˜ì˜ ì§„ì§œ ë¹„ìš©: ì»¤ë„¥ì…˜ í’€ ì‹¬í™” íƒêµ¬",
    "date": "2025-09-03",
    "author": "ë‚¨ì„±",
    "image": "https://tse2.mm.bing.net/th/id/OIP.WjDVH8u5aCImfOq39oMMHwHaF7?pid=Api",
    "description": "ìš”ì²­ ìŠ¤ë ˆë“œë¶€í„° DB ì„¸ì…˜ê¹Œì§€, ìš´ì˜ì²´ì œì™€ ë°ì´í„°ë² ì´ìŠ¤ ë ˆë²¨ì—ì„œ ë°œìƒí•˜ëŠ” ì»¤ë„¥ì…˜ ê´€ë¦¬ ë¹„ìš©ì„ ì‹¬ì¸µ ë¶„ì„",
    "content": "\r\n# ìš´ì˜ì²´ì œì™€ DB ì„¸ì…˜ì˜ ì§„ì§œ ë¹„ìš©: ì»¤ë„¥ì…˜ í’€ ì‹¬í™” íƒêµ¬\r\n\r\n![DB Connection Pool êµ¬ì¡°](https://tse2.mm.bing.net/th/id/OIP.WjDVH8u5aCImfOq39oMMHwHaF7?pid=Api)\r\n\r\n---\r\n\r\n## 0. ìš”ì²­ ì²˜ë¦¬ íë¦„: ìŠ¤ë ˆë“œì—ì„œ ì„¸ì…˜ê¹Œì§€ í•œ ì‚¬ì´í´\r\n\r\nì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„(Spring, Django, Delphi ë“±)ê°€ DBì™€ ëŒ€í™”í•˜ëŠ” ê³¼ì •ì€ ë‹¨ìˆœíˆ `ì¿¼ë¦¬ ì‹¤í–‰`ì´ ì•„ë‹™ë‹ˆë‹¤.  \r\nìš´ì˜ì²´ì œì™€ DBMS ì–‘ìª½ì—ì„œ ìŠ¤ë ˆë“œ, ì†Œì¼“, ì„¸ì…˜, ë½ ê´€ë¦¬ê°€ ì—°ì‡„ì ìœ¼ë¡œ ë°œìƒí•©ë‹ˆë‹¤.  \r\níë¦„ì„ ë‹¨ê³„ë³„ë¡œ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.\r\n\r\n1. **HTTP ìš”ì²­ ìˆ˜ì‹ **\r\n   - í†°ìº£(Tomcat) ê°™ì€ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆê°€ ìš”ì²­ì„ ë°›ìŠµë‹ˆë‹¤.\r\n   - `maxThreads`ë§Œí¼ ì¤€ë¹„ëœ ì›Œì»¤ ìŠ¤ë ˆë“œ ì¤‘ í•˜ë‚˜ê°€ í•´ë‹¹ ìš”ì²­ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.\r\n   - â†’ OS ë ˆë²¨ì—ì„œëŠ” **ì‹¤ì œ ìŠ¤ë ˆë“œ**ê°€ ê¹¨ì–´ë‚˜ì„œ ë™ì‘.\r\n\r\n2. **ì»¤ë„¥ì…˜ í’€ ì ‘ê·¼**\r\n   - ì• í”Œë¦¬ì¼€ì´ì…˜ ìŠ¤ë ˆë“œëŠ” DB ì‘ì—…ì´ í•„ìš”í•  ë•Œ HikariCP ê°™ì€ **ì»¤ë„¥ì…˜ í’€**ì— ì»¤ë„¥ì…˜ì„ ìš”ì²­í•©ë‹ˆë‹¤.\r\n   - í’€ì— ì—¬ìœ  ì»¤ë„¥ì…˜ì´ ìˆë‹¤ë©´ ì¦‰ì‹œ íšë“, ì—†ë‹¤ë©´ ëŒ€ê¸°ì—´(queue)ì—ì„œ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.\r\n\r\n3. **DB ì„¸ì…˜ ë§¤í•‘**\r\n   - í’€ì—ì„œ ë°˜í™˜ëœ ì»¤ë„¥ì…˜ì€ ì‹¤ì œë¡œ DB ì„œë²„ì— ì—´ë¦° **ì„¸ì…˜(Session)**ê³¼ ì—°ê²°ë©ë‹ˆë‹¤.\r\n   - ì„¸ì…˜ ë‚´ë¶€ì—ëŠ” ì¸ì¦ ì •ë³´, íŠ¸ëœì­ì…˜ ìƒíƒœ, ì»¤ì„œ(cursor), ìºì‹œ í¬ì¸í„° ë“±ì´ ì¤€ë¹„ë˜ì–´ ìˆìŒ.\r\n\r\n4. **ì¿¼ë¦¬ ì‹¤í–‰ (DB ì‘ì—…)**\r\n   - ì„¸ì…˜ê³¼ ì—°ê²°ëœ DB ì„œë²„ì˜ ìŠ¤ë ˆë“œ/í”„ë¡œì„¸ìŠ¤ê°€ ì¿¼ë¦¬ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.\r\n   - â†’ OS ë ˆë²¨ì—ì„œëŠ” DBMS í”„ë¡œì„¸ìŠ¤ ì•ˆì—ì„œ **ë³„ë„ì˜ ìŠ¤ë ˆë“œ/í”„ë¡œì„¸ìŠ¤ ì»¨í…ìŠ¤íŠ¸**ê°€ ë™ì‘.\r\n\r\n5. **ì»¤ë„¥ì…˜ ë°˜ë‚©**\r\n   - ê²°ê³¼ê°€ ë°˜í™˜ë˜ë©´ ì»¤ë„¥ì…˜ì€ ë‹«ì§€ ì•Šê³  í’€ì— ë‹¤ì‹œ ë°˜ë‚©ë©ë‹ˆë‹¤.\r\n   - ì´ë•Œ íŠ¸ëœì­ì…˜ ì¢…ë£Œ(ì»¤ë°‹/ë¡¤ë°±), ì„¸ì…˜ ìƒíƒœ ì´ˆê¸°í™”ê°€ ë°œìƒ.\r\n\r\n6. **ìš”ì²­ ìŠ¤ë ˆë“œ ì¢…ë£Œ**\r\n   - ì• í”Œë¦¬ì¼€ì´ì…˜ ì›Œì»¤ ìŠ¤ë ˆë“œëŠ” HTTP ì‘ë‹µì„ í´ë¼ì´ì–¸íŠ¸ë¡œ ë°˜í™˜í•œ ë’¤ í’€ì— ëŒ€ê¸° ìƒíƒœë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.\r\n\r\n---\r\n\r\n## 1. ìš´ì˜ì²´ì œ ë ˆë²¨ ë¦¬ì†ŒìŠ¤ ì†Œëª¨\r\n\r\n### 1.1. ì›Œì»¤ ìŠ¤ë ˆë“œ\r\n- í†°ìº£ ì›Œì»¤ ìŠ¤ë ˆë“œëŠ” **ìš´ì˜ì²´ì œ ìŠ¤ë ˆë“œ**ì™€ 1:1 ë§¤í•‘.\r\n- ìŠ¤ë ˆë“œ ìˆ˜ê°€ ëŠ˜ì–´ë‚ ìˆ˜ë¡ CPU ìŠ¤ì¼€ì¤„ë§, ë¬¸ë§¥ ì „í™˜ ë¹„ìš©ì´ ì¦ê°€.\r\n- `maxThreads`ë¥¼ 200 ì´ìƒ í¬ê²Œ ì¡ëŠ” ê²ƒì€ ê°€ëŠ¥í•˜ì§€ë§Œ, DB í’€ í¬ê¸°ë³´ë‹¤ ì§€ë‚˜ì¹˜ê²Œ ë§ìœ¼ë©´ **ëŒ€ê¸° ìŠ¤ë ˆë“œ í­ì¦**.\r\n\r\n### 1.2. ë„¤íŠ¸ì›Œí¬ ì†Œì¼“\r\n- ê° DB ì»¤ë„¥ì…˜ì€ TCP ì†Œì¼“ì„ í†µí•´ í†µì‹ .\r\n- OS ì»¤ë„ì—ì„œ ì†¡ìˆ˜ì‹  ë²„í¼(ìˆ˜ KB~ìˆ˜ì‹­ KB)ì™€ FD(File Descriptor)ë¥¼ ìœ ì§€.\r\n- ìˆ˜ë°±~ìˆ˜ì²œ ê°œ ì—°ê²°ì´ ìŒ“ì´ë©´ **ì»¤ë„ ë©”ëª¨ë¦¬ + FD ê³ ê°ˆ ìœ„í—˜**.\r\n\r\n---\r\n\r\n## 2. DBMS ë ˆë²¨ ë¦¬ì†ŒìŠ¤ ì†Œëª¨\r\n\r\n### 2.1. ì„¸ì…˜(Session) êµ¬ì¡°ì²´\r\n- í´ë¼ì´ì–¸íŠ¸ë§ˆë‹¤ ì„¸ì…˜ ê°ì²´ë¥¼ ìœ ì§€.\r\n- íŠ¸ëœì­ì…˜ ìƒíƒœ, ì‚¬ìš©ì ì¸ì¦, ì„ì‹œ í…Œì´ë¸”, ì»¤ì„œ, ë½ ê´€ë¦¬ ì •ë³´ í¬í•¨.\r\n- ìˆ˜ì‹­ KB ~ ìˆ˜ë°± KB ë©”ëª¨ë¦¬ë¥¼ ì„¸ì…˜ë‹¹ ì ìœ .\r\n\r\n### 2.2. ìŠ¤ë ˆë“œ/í”„ë¡œì„¸ìŠ¤\r\n- MySQL: Thread per connection  \r\n- PostgreSQL: Process per connection  \r\n- ì—°ê²°ì´ 1000ê°œë¼ë©´ OS ë ˆë²¨ ìŠ¤ë ˆë“œ/í”„ë¡œì„¸ìŠ¤ë„ 1000ê°œ ìƒì„± â†’ **ë¬¸ë§¥ ì „í™˜ í­ì¦**.\r\n\r\n### 2.3. ë½/íŠ¸ëœì­ì…˜ ë§¤ë‹ˆì €\r\n- ì„¸ì…˜ë§ˆë‹¤ ë½, íŠ¸ëœì­ì…˜ ìƒíƒœë¥¼ ì¶”ì .\r\n- ì„¸ì…˜ ìˆ˜ê°€ ë§ì•„ì§ˆìˆ˜ë¡ ë½ ë§¤ë‹ˆì €ì˜ ë™ê¸°í™” ë¹„ìš©ì´ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ì¦ê°€.\r\n\r\n### 2.4. ë³´ì•ˆ ë° ê°ì‚¬ ë¡œê·¸\r\n- ì„¸ì…˜ë§ˆë‹¤ ê¶Œí•œ ê²€ì‚¬, ê°ì‚¬ ë¡œê¹…ì´ ë³„ë„ë¡œ ìˆ˜í–‰ë¨.\r\n- ë§ì€ ì„¸ì…˜ì€ **ë¡œê·¸ ê¸°ë¡ëŸ‰ ì¦ê°€**ë¡œ ì´ì–´ì§.\r\n\r\n---\r\n\r\n## 3. ì»¤ë„¥ì…˜ í’€ì˜ í•„ìš”ì„±ê³¼ ì—­í• \r\n\r\n### 3.1. ì»¤ë„¥ì…˜ ìƒì„± ë¹„ìš©\r\n- ë§¤ ìš”ì²­ë§ˆë‹¤ DB ì—°ê²°ì„ ì—´ë©´:\r\n  - TCP í•¸ë“œì…°ì´í¬ + ì¸ì¦ â†’ 10~100ms ì´ìƒì˜ ì§€ì—°.\r\n  - DB ì„¸ì…˜ ê°ì²´ ìƒì„± â†’ CPU/ë©”ëª¨ë¦¬ ì˜¤ë²„í—¤ë“œ.\r\n- ë°˜ë³µ ë£¨í”„ì—ì„œ `open/close`ë¥¼ í•˜ë©´ **í­ë°œì  ë¹„ìš©** ë°œìƒ.\r\n\r\n### 3.2. í’€ ì¬ì‚¬ìš© íš¨ê³¼\r\n- ë¯¸ë¦¬ ë§Œë“¤ì–´ ë‘” ì»¤ë„¥ì…˜ì„ ì¬í™œìš© â†’ ìƒì„± ë¹„ìš© íšŒí”¼.\r\n- ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ë¹ ë¥´ê²Œ DB ì„¸ì…˜ì„ ë¹Œë ¤ì“°ê³ , ì‘ì—… ëë‚˜ë©´ ë°˜ë‚©.\r\n\r\n### 3.3. ìŠ¤ë¡œí‹€ë§(Throttling) ì—­í• \r\n- ì»¤ë„¥ì…˜ í’€ í¬ê¸°ë¥¼ ì œí•œí•¨ìœ¼ë¡œì¨ DBê°€ ê°ë‹¹í•  ìˆ˜ ìˆëŠ” ìˆ˜ì¤€ ì´ìƒìœ¼ë¡œ ë¶€í•˜ê°€ ëª°ë¦¬ì§€ ì•Šë„ë¡ ë³´í˜¸.\r\n- í†°ìº£ 200 ìŠ¤ë ˆë“œê°€ ë™ì‹œì— DBë¥¼ ë•Œë¦¬ë”ë¼ë„, í’€ í¬ê¸°ê°€ 30ì´ë¼ë©´ **30ê°œ ì„¸ì…˜ë§Œ ë™ì‹œ ì²˜ë¦¬, ë‚˜ë¨¸ì§€ëŠ” ëŒ€ê¸°**.\r\n\r\n---\r\n\r\n## 4. ìš´ì˜ ì „ëµ: í†°ìº£ ìŠ¤ë ˆë“œ vs DB ì»¤ë„¥ì…˜ í’€\r\n\r\n- **í†°ìº£ ìŠ¤ë ˆë“œ ìˆ˜ (`maxThreads`)**  \r\n  - CPU ì½”ì–´ ìˆ˜ Ã— 10~20 ì •ë„ê¹Œì§€ ê°€ëŠ¥.  \r\n  - ë„ˆë¬´ í¬ë©´ ìŠ¤ë ˆë“œ ëŒ€ê¸°/ë¬¸ë§¥ ì „í™˜ ë¹„ìš© â†‘.\r\n\r\n- **DB ì»¤ë„¥ì…˜ í’€ í¬ê¸° (`maximumPoolSize`)**  \r\n  - CPU ì½”ì–´ ìˆ˜ Ã— 2~4 ìˆ˜ì¤€ ê¶Œì¥.  \r\n  - ì¼ë°˜ì ìœ¼ë¡œ 20~50 ìˆ˜ì¤€ì—ì„œ ì•ˆì •ì  ìš´ì˜.  \r\n  - DB ì„œë²„ ë©”ëª¨ë¦¬/ìŠ¤ë ˆë“œ í•œê³„ ê³ ë ¤ í•„ìˆ˜.\r\n\r\n---\r\n\r\n## 5. ì¢…í•© í…Œì´ë¸”\r\n\r\n| ë²”ì£¼            | ë¦¬ì†ŒìŠ¤ ì‚¬ìš©                         | ë³‘ëª© ì§€ì                   |\r\n|-----------------|----------------------------------|--------------------------|\r\n| í†°ìº£ ì›Œì»¤ ìŠ¤ë ˆë“œ | OS ìŠ¤ë ˆë“œ, CPU ë¬¸ë§¥ ì „í™˜ ë¹„ìš©        | ìŠ¤ë ˆë“œ ìˆ˜ ê³¼ë‹¤ ì‹œ CPU ì˜¤ë²„í—¤ë“œ |\r\n| ì»¤ë„¥ì…˜ í’€        | TCP ì†Œì¼“, DB ì„¸ì…˜ ë§¤í•‘              | í’€ í¬ê¸° ì´ìƒ ëŒ€ê¸° ë°œìƒ       |\r\n| DB ì„¸ì…˜         | ë©”ëª¨ë¦¬, íŠ¸ëœì­ì…˜, ì»¤ì„œ, ë½ ê´€ë¦¬       | ì„¸ì…˜ ìˆ˜ ê³¼ë‹¤ ì‹œ ë½/ìºì‹œ ë¶€í•˜   |\r\n| DB ìŠ¤ë ˆë“œ/í”„ë¡œì„¸ìŠ¤ | OS ìŠ¤ë ˆë“œ/í”„ë¡œì„¸ìŠ¤ ìì›, ìŠ¤ì¼€ì¤„ë§ ë¹„ìš© | 1000ê°œ ì´ìƒ ì‹œ ê¸‰ê²©í•œ ì„±ëŠ¥ ì €í•˜ |\r\n\r\n---\r\n\r\n## ê²°ë¡ \r\n\r\n**DB ì»¤ë„¥ì…˜ì€ ë‹¨ìˆœí•œ ì†Œì¼“ì´ ì•„ë‹ˆë‹¤.**  \r\nê·¸ ì•ˆì—ëŠ” ìš´ì˜ì²´ì œ ìì›(ìŠ¤ë ˆë“œ, ì†Œì¼“, ë²„í¼)ê³¼ DBMS ë‚´ë¶€ ë¦¬ì†ŒìŠ¤(ì„¸ì…˜, ë½, íŠ¸ëœì­ì…˜, í”„ë¡œì„¸ìŠ¤)ê°€ ë³µí•©ì ìœ¼ë¡œ ì–½í˜€ ìˆìŠµë‹ˆë‹¤.  \r\n\r\në”°ë¼ì„œ ì»¤ë„¥ì…˜ í’€ì€ **ì¬ì‚¬ìš©(ì„±ëŠ¥ ìµœì í™”)**ê³¼ **ì œí•œ(ë¶€í•˜ ì œì–´)**ë¼ëŠ” ë‘ ê°€ì§€ ì¸¡ë©´ì—ì„œ í•„ìˆ˜ì ì¸ ì¸í”„ë¼ì…ë‹ˆë‹¤.  \r\nì•ˆì •ì  ì‹œìŠ¤í…œì„ ìš´ì˜í•˜ë ¤ë©´ í†°ìº£ ìŠ¤ë ˆë“œì™€ DB í’€ í¬ê¸°ì˜ ê· í˜•ì„ ì¡ì•„, CPU/ë©”ëª¨ë¦¬/DBMS ë¦¬ì†ŒìŠ¤ë¥¼ ì´ˆê³¼í•˜ì§€ ì•Šë„ë¡ ê´€ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.\r\n"
  },
  {
    "slug": "20250901",
    "title": "DB ìµœì í™”ë€?",
    "date": "2025-09-02",
    "author": "ê¹€íƒœë™",
    "image": "https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdna%2FrNWmL%2FbtsLe0IeyiZ%2FAAAAAAAAAAAAAAAAAAAAAPOiFrr9O0wbqT9L26JXtTvucbF-hbq5kXvqGDWd6S0N%2Fimg.png%3Fcredential%3DyqXZFxpELC7KVnFOS48ylbz2pIh7yKj8%26expires%3D1759244399%26allow_ip%3D%26allow_referer%3D%26signature%3DaivzLwDxVc0m6MVZNgIACSCVtoU%253D",
    "description": "DB ìµœì í™” With MySQL",
    "content": "\r\n\r\n\r\n# SQL ìµœì í™” (ì‹¤í–‰ ê³„íšìœ¼ë¡œ ì°¾ì•„ë³´ê¸°) - MySQL  \r\nì¤‘ë³µì²´í¬\r\n\r\n---\r\n\r\n## ëª©ì°¨\r\n1. DB ì„±ëŠ¥ ê°œì„ ì˜ ë°©ë²•\r\n2. MySQL ì˜ ì•„í‚¤í…ì²˜\r\n3. INDEX ë€?\r\n4. ë²„ì „ ë° íˆ´\r\n5. INDEX ì˜ ì¢…ë¥˜\r\n6. ì‹¤í–‰ ê³„íš(EXPLAIN)ì„ í†µí•´ ì„±ëŠ¥ ì €í•˜ ìš”ì¸ ì°¾ê¸°\r\n7. ì‹¤í–‰ê³„íšì˜ index scan íƒ€ì…\r\n8. ì¿¼ë¦¬ ìµœì í™”!\r\n9. WHERE ì´ ì‚¬ìš©ëœ ì¿¼ë¦¬\r\n10. ì¸ë±ìŠ¤ë¥¼ ì¸ì‹í•˜ì§€ ì•ŠëŠ” ê²½ìš°\r\n11. ORDER BY ì´ ì‚¬ìš©ëœ ì¿¼ë¦¬\r\n12. ìš”ì•½\r\n\r\n---\r\n\r\n## DB ì„±ëŠ¥ ê°œì„ ì˜ ë°©ë²•\r\n- SQL íŠœë‹  \r\n- ìºì‹± ì„œë²„ í™œìš©  \r\n- ë ˆí”Œë¦¬ì¼€ì´ì…˜ (Master/Slave)  \r\n- ìƒ¤ë”©  \r\n- ìŠ¤ì¼€ì¼ ì—…  \r\n\r\nSQL íŠœë‹ì€ **ì‹œìŠ¤í…œ ë³€ê²½ ë° ë¹„ìš© ì¶”ê°€ ì—†ì´ ì„±ëŠ¥ì„ ê°œì„ **í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤.  \r\n\r\n---\r\n\r\n## MySQL ì˜ ì•„í‚¤í…ì²˜\r\n1. í´ë¼ì´ì–¸íŠ¸ê°€ DB ë¡œ ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.  \r\n2. ì˜µí‹°ë§ˆì´ì €ê°€ SQL ì„ ë¶„ì„í•˜ê³  íš¨ìœ¨ì ì¸ ê³„íšì„ ì„¸ì›Œ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.  \r\n3. ì—”ì§„ì—ì„œ ì •ë ¬, í•„í„°ë§ í›„ ê²°ê³¼ë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì‘ë‹µí•©ë‹ˆë‹¤.  \r\n\r\nâš ï¸ ì„±ëŠ¥ ì €í•˜ëŠ” ì£¼ë¡œ ì˜µí‹°ë§ˆì´ì € ë‹¨ê³„ì—ì„œ ë°œìƒí•©ë‹ˆë‹¤.  \r\n\r\n---\r\n\r\n## INDEX ë€?\r\nì¸ë±ìŠ¤ë€ **ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì˜ ê²€ìƒ‰ ì„±ëŠ¥ì„ ë†’ì´ëŠ” ìë£Œêµ¬ì¡°**ì…ë‹ˆë‹¤.  \r\níŠ¹ì • ì»¬ëŸ¼ì„ ê¸°ì¤€ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì •ë ¬í•´ ë‘ê³  ë¹ ë¥´ê²Œ ì¡°íšŒí•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.  \r\n\r\nì˜ˆì‹œ:\r\n\r\n```sql\r\nSELECT * FROM users WHERE age = 23;\r\nCREATE INDEX idx_age ON users(age);\r\n-- 198ms -> 150ms ë¡œ ì„±ëŠ¥ ê°œì„ \r\në²„ì „ ë° íˆ´\r\nMySQL 8.x.x\r\n\r\nTOOL : DataGrip\r\n\r\nINDEX ì˜ ì¢…ë¥˜\r\ní´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤\r\n\r\nê³ ìœ  ì¸ë±ìŠ¤\r\n\r\në©€í‹° ì»¬ëŸ¼ ì¸ë±ìŠ¤\r\n\r\nì»¤ë²„ë§ ì¸ë±ìŠ¤\r\n\r\ní´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤\r\nì›ë³¸ ë°ì´í„° ìì²´ê°€ ì •ë ¬ë¨\r\n\r\nPK(Primary Key)ì— ìë™ ì ìš©\r\n\r\nê³ ìœ  ì¸ë±ìŠ¤\r\nUNIQUE ì†ì„±ì„ ê°€ì§€ëŠ” ì»¬ëŸ¼ì—ì„œ ìƒì„±\r\n\r\nsql\r\nì½”ë“œ ë³µì‚¬\r\nCREATE TABLE test_table(\r\n    id INT AUTO_INCREMENT PRIMARY KEY,\r\n    name VARCHAR(100) UNIQUE\r\n);\r\në©€í‹° ì»¬ëŸ¼ ì¸ë±ìŠ¤\r\nì—¬ëŸ¬ ê°œì˜ ì»¬ëŸ¼ì„ ë¬¶ì–´ ì„¤ì •í•˜ëŠ” ì¸ë±ìŠ¤\r\n\r\nsql\r\nì½”ë“œ ë³µì‚¬\r\nCREATE INDEX idx_ë¶€ì„œ_ì´ë¦„ ON users (ë¶€ì„œ, ì´ë¦„);\r\nì£¼ì˜: ì†Œë¶„ë¥˜ â†’ ëŒ€ë¶„ë¥˜ ìˆœì„œë¡œ ì„¤ì •í•´ì•¼ íš¨ìœ¨ì \r\n\r\nì»¤ë²„ë§ ì¸ë±ìŠ¤\r\nì¡°íšŒì— í•„ìš”í•œ ëª¨ë“  ì»¬ëŸ¼ì´ ì¸ë±ìŠ¤ì— í¬í•¨ëœ ê²½ìš°\r\nğŸ‘‰ ë””ìŠ¤í¬ I/O ê°ì†Œ ê°€ëŠ¥\r\n\r\nì‹¤í–‰ ê³„íš (EXPLAIN)\r\nsql\r\nì½”ë“œ ë³µì‚¬\r\nEXPLAIN SELECT * FROM users;\r\nid : ì‹¤í–‰ ìˆœì„œ\r\n\r\ntype : index scan íƒ€ì…\r\n\r\npossible key : ì‚¬ìš© ê°€ëŠ¥í•œ í‚¤ ë¦¬ìŠ¤íŠ¸\r\n\r\nkey : ì‹¤ì œ ì‚¬ìš© í‚¤\r\n\r\nrows : ì ‘ê·¼í•œ í–‰ì˜ ìˆ˜\r\n\r\nsql\r\nì½”ë“œ ë³µì‚¬\r\nEXPLAIN ANALYZE SELECT * FROM users;\r\nTable scan ì—¬ë¶€ í™•ì¸\r\n\r\nrows: ì ‘ê·¼í•œ ë°ì´í„° í–‰ ìˆ˜\r\n\r\nactual time: ì²˜ë¦¬ ì†Œìš” ì‹œê°„\r\n\r\nì‹¤í–‰ê³„íšì˜ index scan íƒ€ì…\r\nALL: í’€ í…Œì´ë¸” ìŠ¤ìº” (ë¹„íš¨ìœ¨ì )\r\n\r\nINDEX: í’€ ì¸ë±ìŠ¤ ìŠ¤ìº”\r\n\r\nCONST: ë‹¨ì¼ ë°ì´í„° ì¡°íšŒ (ë§¤ìš° íš¨ìœ¨ì )\r\n\r\nRANGE: ë²”ìœ„ ì¡°íšŒ (IN, LIKE, BETWEEN)\r\n\r\nREF: ë¹„ê³ ìœ  ì¸ë±ìŠ¤ ì¡°íšŒ\r\n\r\nì¿¼ë¦¬ ìµœì í™” ì˜ˆì‹œ\r\nWHERE ì ˆ ìµœì í™”\r\nsql\r\nì½”ë“œ ë³µì‚¬\r\nSELECT * FROM users\r\nWHERE created_at >= DATE_SUB(NOW(), INTERVAL 3 DAY);\r\n\r\nCREATE INDEX idx_created_at ON users (created_at);\r\n-- 557ms â†’ 146ms\r\nì—¬ëŸ¬ ì¡°ê±´\r\nsql\r\nì½”ë“œ ë³µì‚¬\r\nSELECT * FROM users\r\nWHERE department = 'Sales'\r\n  AND created_at >= DATE_SUB(NOW(), INTERVAL 3 DAY);\r\n\r\nCREATE INDEX idx_create_at_department ON users (department, created_at);\r\n-- 590ms â†’ 143ms\r\nğŸ‘‰ ë©€í‹° ì»¬ëŸ¼ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•˜ë©´ row ì ‘ê·¼ ìˆ˜ë¥¼ ê·¹ì ìœ¼ë¡œ ì¤„ì¼ ìˆ˜ ìˆìŒ\r\n\r\nì¸ë±ìŠ¤ë¥¼ ì¸ì‹í•˜ì§€ ì•ŠëŠ” ê²½ìš°\r\në„“ì€ ë²”ìœ„ ê²€ìƒ‰\r\n\r\nì¸ë±ìŠ¤ ì»¬ëŸ¼ì„ ê°€ê³µí•˜ëŠ” ê²½ìš°\r\n\r\nsql\r\nì½”ë“œ ë³µì‚¬\r\nEXPLAIN SELECT * FROM users\r\nWHERE salary * 2 < 1000\r\nORDER BY salary;\r\n-- ì¸ë±ìŠ¤ ë¬´íš¨í™” â†’ í’€ í…Œì´ë¸” ìŠ¤ìº”\r\nORDER BY ìµœì í™”\r\nsql\r\nì½”ë“œ ë³µì‚¬\r\nEXPLAIN ANALYZE SELECT * FROM users\r\nORDER BY salary LIMIT 100;\r\n\r\nCREATE INDEX idx_salary ON users(salary);\r\n-- 340ms â†’ 60ms\r\nì •ë ¬ ì‹œì—ë„ ì¸ë±ìŠ¤ë¥¼ ì ê·¹ í™œìš© ê°€ëŠ¥\r\n\r\nWHERE vs ORDER BY ì¸ë±ìŠ¤\r\nWHERE ì ˆì— ì¸ë±ìŠ¤ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì´ ë” íš¨ìœ¨ì ì„\r\n\r\nHAVING ì ˆ ìµœì í™”\r\nsql\r\nì½”ë“œ ë³µì‚¬\r\n-- ë¹„íš¨ìœ¨ì \r\nSELECT age, MAX(salary) FROM users\r\nGROUP BY age\r\nHAVING age >= 20 AND age < 30;\r\n\r\n-- íš¨ìœ¨ì \r\nSELECT age, MAX(salary) FROM users\r\nWHERE age >= 20 AND age < 30\r\nGROUP BY age;\r\nHAVING ë³´ë‹¤ëŠ” WHEREì—ì„œ ë¨¼ì € í•„í„°ë§í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ\r\n\r\nìš”ì•½\r\nì„±ëŠ¥ ì €í•˜ëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ë°ì´í„°ë¥¼ ì°¾ëŠ” ê³¼ì •ì—ì„œ ë°œìƒ\r\n\r\nì¸ë±ìŠ¤ëŠ” ê²€ìƒ‰ ì„±ëŠ¥ ê°œì„ ì— í•µì‹¬\r\n\r\nEXPLAINìœ¼ë¡œ ì‹¤í–‰ ê³„íšì„ ë¶„ì„í•˜ê³  íŠœë‹ ê°€ëŠ¥\r\n\r\ní…Œì´ë¸” ìŠ¤ìº” ë°©ì‹: ALL, INDEX, RANGE, REF, CONST\r\n\r\nLIMIT, WHERE ì¡°ê±´ ìµœì í™”ë¡œ row ì ‘ê·¼ ìµœì†Œí™”\r\n\r\nì¸ë±ìŠ¤ë¥¼ í™œìš©í•œ ORDER BY, WHERE ì ˆ ìµœì í™” í•„ìš”\r\n\r\nHAVING ë³´ë‹¤ëŠ” WHEREë¥¼ ì§€í–¥"
  }
]